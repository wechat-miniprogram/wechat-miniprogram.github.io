(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{397:function(t,v,_){"use strict";_.r(v);var r=_(45),a=Object(r.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"form"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#form"}},[t._v("#")]),t._v(" Form")]),t._v(" "),_("p",[t._v("Form表单组件，结合Cell、Checkbox-group、Checkbox组件等做表单校验。")]),t._v(" "),_("h2",{attrs:{id:"代码引入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#代码引入"}},[t._v("#")]),t._v(" 代码引入")]),t._v(" "),_("p",[t._v("在 page.json 中引入组件")]),t._v(" "),_("div",{staticClass:"language-json line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-json"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usingComponents"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mp-form"')]),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v('"weui-miniprogram/form/form"')]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br")])]),_("h2",{attrs:{id:"属性列表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#属性列表"}},[t._v("#")]),t._v(" 属性列表")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("必填")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("ext-class")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("添加在组件内部结构的class，可用于修改组件内部的样式")])]),t._v(" "),_("tr",[_("td",[t._v("rules")]),t._v(" "),_("td",[t._v("object<array>")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("表单校验的规则列表，格式下面详细介绍")])]),t._v(" "),_("tr",[_("td",[t._v("models")]),t._v(" "),_("td",[t._v("object")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("需要校验的表单的数据")])]),t._v(" "),_("tr",[_("td",[t._v("bindsuccess")]),t._v(" "),_("td",[t._v("eventhandler")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("校验成功触发的事件，detail是{trigger}，trigger的值是change或validate，表示是输入改成触发的校验还是主动调用的validate接口")])]),t._v(" "),_("tr",[_("td",[t._v("bindfail")]),t._v(" "),_("td",[t._v("eventhandler")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("校验失败触发的事件，detail是{trigger, errors}，trigger的值是change或validate，表示是输入改成触发的校验还是主动调用的validate接口。errors是错误的字段列表。")])])])]),t._v(" "),_("p",[t._v("rules是表单校验的规则列表，列表每一项表示一个字段的校验规则，注意，必须要在Cell或Checkbox-group组件声明prop属性，表单校验规则才生效，表单校验规则的定义如下：")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("必填")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("name")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("校验的字段名")])]),t._v(" "),_("tr",[_("td",[t._v("rules")]),t._v(" "),_("td",[t._v("array/object")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("校验的规则，如果有多项，则是数组")])]),t._v(" "),_("tr",[_("td",[t._v("rules.message")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("校验失败时候提示的文字")])]),t._v(" "),_("tr",[_("td",[t._v("rules.validator")]),t._v(" "),_("td",[t._v("function")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("自定义校验函数，接受rule, value, param, models四个参数，其中rule格式为{name: '字段名', message: '失败信息'}, value是字段值，param是校验参数，models是form组件的models属性。函数返回错误提示，表示校验失败，错误提示会通过回调返回给开发者")])]),t._v(" "),_("tr",[_("td",[t._v("rules.[rule]")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v('rule是变量，表示内置的校验规则名称，比如required，则校验规则对象为{name: "fieldName", rules: {required: true}}，下面会详细介绍所有的内置规则')])])])]),t._v(" "),_("h2",{attrs:{id:"内置校验规则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#内置校验规则"}},[t._v("#")]),t._v(" 内置校验规则")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("规则名")]),t._v(" "),_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("required")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("是否必填")])]),t._v(" "),_("tr",[_("td",[t._v("minlength")]),t._v(" "),_("td",[t._v("number")]),t._v(" "),_("td",[t._v("最小长度")])]),t._v(" "),_("tr",[_("td",[t._v("maxlength")]),t._v(" "),_("td",[t._v("number")]),t._v(" "),_("td",[t._v("最大长度")])]),t._v(" "),_("tr",[_("td",[t._v("rangelength")]),t._v(" "),_("td",[t._v("[number, number]")]),t._v(" "),_("td",[t._v("长度范围，参数为[最小长度， 最大长度]")])]),t._v(" "),_("tr",[_("td",[t._v("bytelength")]),t._v(" "),_("td",[t._v("number")]),t._v(" "),_("td",[t._v("字节长度")])]),t._v(" "),_("tr",[_("td",[t._v("range")]),t._v(" "),_("td",[t._v("[number, number]")]),t._v(" "),_("td",[t._v("数字的大小范围")])]),t._v(" "),_("tr",[_("td",[t._v("min")]),t._v(" "),_("td",[t._v("number")]),t._v(" "),_("td",[t._v("最小值限制")])]),t._v(" "),_("tr",[_("td",[t._v("max")]),t._v(" "),_("td",[t._v("number")]),t._v(" "),_("td",[t._v("最大值限制")])]),t._v(" "),_("tr",[_("td",[t._v("mobile")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("手机号码校验")])]),t._v(" "),_("tr",[_("td",[t._v("email")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("电子邮件校验")])]),t._v(" "),_("tr",[_("td",[t._v("url")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("URL链接地址校验")])]),t._v(" "),_("tr",[_("td",[t._v("equalTo")]),t._v(" "),_("td",[t._v("string")]),t._v(" "),_("td",[t._v("相等校验，参数是另外一个字段名")])])])]),t._v(" "),_("h2",{attrs:{id:"接口"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#接口"}},[t._v("#")]),t._v(" 接口")]),t._v(" "),_("h3",{attrs:{id:"validate"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#validate"}},[t._v("#")]),t._v(" validate")]),t._v(" "),_("p",[t._v("validate接口接受类型为function的callback，callback有isValid和errors两个参数，isValid表示是否校验通过，errors在校验失败的时候的值为失败的字段列表。")]),t._v(" "),_("h3",{attrs:{id:"validatefield"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#validatefield"}},[t._v("#")]),t._v(" validateField")]),t._v(" "),_("p",[t._v("validateField接口接受2个参数，\n第一个是字段名，第二个是类型为function的callback，callback有isValid和errors两个参数，isValid表示是否校验通过，errors在校验失败的时候的值为失败的字段列表。")]),t._v(" "),_("h2",{attrs:{id:"slot"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#slot"}},[t._v("#")]),t._v(" Slot")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("名称")]),t._v(" "),_("th",[t._v("描述")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("默认")]),t._v(" "),_("td",[t._v("内容slot")])])])])])}),[],!1,null,null,null);v.default=a.exports}}]);