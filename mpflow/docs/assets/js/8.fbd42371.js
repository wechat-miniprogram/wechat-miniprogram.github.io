(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{357:function(v,_,a){"use strict";a.r(_);var e=a(42),t=Object(e.a)({},(function(){var v=this,_=v.$createElement,a=v._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h1",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[v._v("#")]),v._v(" 配置文件")]),v._v(" "),a("p",[v._v("mpflow 配置文件为项目根目录下的 "),a("code",[v._v("mpflow.config.js")]),v._v(" 文件。该文件导出一个对象，包含 mpflow 的配置内容。")]),v._v(" "),a("h2",{attrs:{id:"基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[v._v("#")]),v._v(" 基本配置")]),v._v(" "),a("h3",{attrs:{id:"appid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#appid"}},[v._v("#")]),v._v(" appId")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string")])])]),v._v(" "),a("p",[v._v("小程序项目的 appId，用于生成小程序配置以及提供给开发者工具从而能够正常开发")]),v._v(" "),a("h3",{attrs:{id:"compiletype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compiletype"}},[v._v("#")]),v._v(" compileType")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string")])])]),v._v(" "),a("p",[v._v("小程序项目构建类型，用于提供给开发者工具")]),v._v(" "),a("h3",{attrs:{id:"plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[v._v("#")]),v._v(" plugins")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string[]")])])]),v._v(" "),a("p",[v._v("mpflow 插件列表，需要填入完整的插件包名如 "),a("code",[v._v("@mpflow/plugin-babel")])]),v._v(" "),a("h2",{attrs:{id:"构建配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建配置"}},[v._v("#")]),v._v(" 构建配置")]),v._v(" "),a("h3",{attrs:{id:"sourcedir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sourcedir"}},[v._v("#")]),v._v(" sourceDir")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("'src'")])])]),v._v(" "),a("p",[v._v("项目的源码目录")]),v._v(" "),a("h3",{attrs:{id:"outputdir"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outputdir"}},[v._v("#")]),v._v(" outputDir")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("'dist'")])])]),v._v(" "),a("p",[v._v("项目的输出目录")]),v._v(" "),a("h3",{attrs:{id:"miniprogramroot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#miniprogramroot"}},[v._v("#")]),v._v(" miniprogramRoot")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("''")])])]),v._v(" "),a("p",[v._v("指定小程序源码的目录，需为相对 "),a("a",{attrs:{href:"#sourcedir"}},[v._v("sourceDir")]),v._v(" 的路径")]),v._v(" "),a("h3",{attrs:{id:"pluginroot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pluginroot"}},[v._v("#")]),v._v(" pluginRoot")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("''")])])]),v._v(" "),a("p",[v._v("指定插件源码的目录，需为相对 "),a("a",{attrs:{href:"#sourcedir"}},[v._v("sourceDir")]),v._v(" 的路径")]),v._v(" "),a("h3",{attrs:{id:"config-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#config-app"}},[v._v("#")]),v._v(" app")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string | ((mode: string) => string)")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("undefined")])])]),v._v(" "),a("p",[v._v("打包小程序 app 路径，指定到小程序的 "),a("code",[v._v("app.js")]),v._v(" 文件路径")]),v._v(" "),a("h3",{attrs:{id:"plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[v._v("#")]),v._v(" plugin")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string | ((mode: string) => string)")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("undefined")])])]),v._v(" "),a("p",[v._v("打包小程序插件路径，指定到小程序插件的 "),a("code",[v._v("plugin.json")]),v._v(" 文件路径")]),v._v(" "),a("h3",{attrs:{id:"pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pages"}},[v._v("#")]),v._v(" pages")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("string[] | ((mode: string) => string[])")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("undefined")])])]),v._v(" "),a("p",[v._v("打包小程序组件路径，指定到组件的 "),a("code",[v._v("comp.js")]),v._v(" 文件路径")]),v._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[v._v("注意")]),v._v(" "),a("p",[a("code",[v._v("app")]),v._v("，"),a("code",[v._v("plugin")]),v._v("，"),a("code",[v._v("pages")]),v._v(" 选项会分别开启独立的 webpack compiler 任务。这些任务之间相互隔离，共同的代码文件不会在任务之间共享")]),v._v(" "),a("p",[v._v("若这些选项同时设置，"),a("a",{attrs:{href:"#configurewebpack"}},[v._v("configureWebpack")]),v._v(" 和 "),a("a",{attrs:{href:"#configurewebpackchain"}},[v._v("configureWebpackChain")]),v._v(" 选项也会被执行多次")])]),v._v(" "),a("h3",{attrs:{id:"libs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#libs"}},[v._v("#")]),v._v(" libs")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("Record<string, string> | ((mode: string) => Record<string, string>")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("undefined")])])]),v._v(" "),a("p",[v._v("打包 js 文件路径，"),a("code",[v._v("key")]),v._v(" 为导出路径，"),a("code",[v._v("value")]),v._v(" 为源文件路径")]),v._v(" "),a("p",[v._v("例如传入 "),a("code",[v._v("{ foo: 'src/bar.js' }")]),v._v("，则会将 "),a("code",[v._v("src/bar.js")]),v._v(" 的内容打包输出到 "),a("code",[v._v("foo.js")])]),v._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[v._v("注意")]),v._v(" "),a("p",[a("code",[v._v("libs")]),v._v(" 选项必须要和 "),a("code",[v._v("pages")]),v._v(" 配合使用")])]),v._v(" "),a("h3",{attrs:{id:"sourcemap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sourcemap"}},[v._v("#")]),v._v(" sourceMap")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("boolean | ((mode: string) => boolean)")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("true")])])]),v._v(" "),a("p",[v._v("打包时是否输出 sourceMap 文件")]),v._v(" "),a("h3",{attrs:{id:"minimize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minimize"}},[v._v("#")]),v._v(" minimize")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("boolean | ((mode: string) => boolean)")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("mode => mode === 'production'")])])]),v._v(" "),a("p",[v._v("打包时是否对代码进行压缩")]),v._v(" "),a("h3",{attrs:{id:"configurewebpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configurewebpack"}},[v._v("#")]),v._v(" configureWebpack")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("webpack.Configuration | ((config: webpack.Configuration) => webpack.Configuration)")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("undefined")])])]),v._v(" "),a("p",[v._v("对 mpflow 内置的 webpack 配置做修改的配置，可以直接传递一个 "),a("code",[v._v("Configuration")]),v._v(" 配置对象，也可以传递一个修改配置对象的函数。")]),v._v(" "),a("h3",{attrs:{id:"configurewebpackchain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configurewebpackchain"}},[v._v("#")]),v._v(" configureWebpackChain")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("(config: WebpackChain) => void")])]),v._v(" "),a("li",[v._v("默认 "),a("code",[v._v("undefined")])])]),v._v(" "),a("p",[v._v("对 mpflow 内置的 webpack 配置做修改的配置，传递一个 "),a("a",{attrs:{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer"}},[v._v("WebpackChain"),a("OutboundLink")],1),v._v(" 对象，可以更加方便地对配置进行修改")]),v._v(" "),a("h2",{attrs:{id:"扩展配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展配置"}},[v._v("#")]),v._v(" 扩展配置")]),v._v(" "),a("h3",{attrs:{id:"settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#settings"}},[v._v("#")]),v._v(" settings")]),v._v(" "),a("ul",[a("li",[v._v("类型 "),a("code",[v._v("object")])])]),v._v(" "),a("p",[v._v("在 mpflow 生成 "),a("code",[v._v("project.config.json")]),v._v(" 文件时，其中的 "),a("code",[v._v("setting")]),v._v(" 配置内容")])])}),[],!1,null,null,null);_.default=t.exports}}]);